{
  "eventTime": 1576027175648,
  "appName": "market-place",
  "environment": "prod",
  "dbs": [
{"db":"db", "metrics":[
  {"name":"txn.main", "count":24947364, "total":191243156366, "mean":7665, "max":1397232},
  {"name":"txn.named.AdapterDao.ensureAllBrandsExist", "count":1, "total":494238, "mean":494238, "max":494238},
  {"name":"txn.named.AdapterDao.saveMarketplaceOrder", "count":4968, "total":83451212, "mean":16797, "max":506638},
  {"name":"txn.named.AdapterDao.saveInternalRepresentation", "count":8258, "total":189338619, "mean":22927, "max":390913},
  {"name":"txn.named.ShipmentDao.incrementShipmentConfirmRetries", "count":4, "total":26431, "mean":6607, "max":7226},
  {"name":"txn.named.ShipmentDao.saveMissingShipments", "count":1808, "total":13551789, "mean":7495, "max":175953},
  {"name":"txn.named.SendUnexportedOrdersToOrderServiceProcessor.sendOrder", "count":1024, "total":24747579, "mean":24167, "max":527996},
  {"name":"ChannelAts_AtsListener.publishAts", "count":720032, "total":4127268008, "mean":5732, "max":797146, "hash":"ed4acc2bc520f3f0fb800949f0a01a52", "loc":"AtsListener.publishAts(AtsListener.java:103)", "sql":"select t0.channel, t0.sku, t0.quantity from mp_ats_channel t0 where (t0.channel = ? and t0.sku = ?)"},
  {"name":"ChannelState_AdapterDao.getBrandState", "count":1733664, "total":2593106357, "mean":1495, "max":513373, "hash":"bf5847c18b9d2299a54293bd80e33dc9", "loc":"AdapterDao.getBrandState(AdapterDao.java:53)", "sql":"select t0.channel, t0.when_last_orders_polled, t0.when_last_cancel_polled from mp_channel t0 where t0.channel = ?  "},
  {"name":"MarketplaceShipment_ShipmentDao.getIdsOfUnsentShipmentsCreatedBefore", "count":216708, "total":663570601, "mean":3062, "max":297577, "hash":"d7a7d19c32d290b8c30803bf0fe0bdfe", "loc":"ShipmentDao.getIdsOfUnsentShipmentsCreatedBefore(ShipmentDao.java:83)", "sql":"select t0.id from mp_shipment t0 where t0.when_sent is null and (t0.when_created < ? or t0.when_created is null)"},
  {"name":"MarketplaceOrder_AdapterDao.findUnconfirmedOrders", "count":216708, "total":438712685, "mean":2024, "max":497397, "hash":"62930cc389e057f37bacdef34d7a416a", "loc":"AdapterDao.findUnconfirmedOrders(AdapterDao.java:195)", "sql":"select t0.order_id, t0.update_sent, t0.last_mp_status, t0.last_internal_status, t0.when_updated, t0.fk_channel from mp_order t0 where t0.last_internal_status = any(?) and t0.fk_channel = ? and t0.last_mp_status = any(?)"},
  {"name":"ChannelState_AdapterDao.updateLastPolledForOrders", "count":216704, "total":427191089, "mean":1971, "max":149183, "hash":"8e8be962ecffc14f795d313c9dc75bd1", "loc":"AdapterDao.updateLastPolledForOrders(AdapterDao.java:75)", "sql":"update mp_channel set when_last_orders_polled=? where channel = ?"},
  {"name":"MarketplaceShipment_ShipmentDao.getShippingNoticesToSend", "count":216708, "total":385892170, "mean":1780, "max":646844, "hash":"7f9efd5c8f6b589d2fee2eba4bd903b0", "loc":"ShipmentDao.getShippingNoticesToSend(ShipmentDao.java:50)", "sql":"select t0.id, t0.consignment, t0.when_sent, t0.retries_attempted, t0.when_created, t0.order_id from mp_shipment t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.when_sent is null and (t0.retries_attempted < ? or t0.retries_attempted is null) and t1.fk_channel = ?"},
  {"name":"MarketplaceOrder_AdapterDao.findUnexportedOrders", "count":216708, "total":381815071, "mean":1761, "max":180198, "hash":"14e0049bf3e4a17624067250693fa7ea", "loc":"AdapterDao.findUnexportedOrders(AdapterDao.java:171)", "sql":"select t0.order_id, t0.update_sent, t0.last_mp_status, t0.last_internal_status, t0.when_updated, t0.fk_channel from mp_order t0 where t0.fk_channel = ? and t0.last_mp_status = any(?) and t0.update_sent = ?"},
  {"name":"CancelGroup_AdapterDao.findResponsesReadyForMarketplace", "count":216708, "total":368703037, "mean":1701, "max":187912, "hash":"a3d3a69988485abc0741c92cdf11f386", "loc":"AdapterDao.findResponsesReadyForMarketplace(AdapterDao.java:235)", "sql":"select t0.id, t0.cancel_key, t0.when_received, t0.when_processed, t0.when_replied_to_tmp, t0.internal_cancel_response, t0.when_confirmed, t0.cancel_raw, t0.cancel_raw_class, t0.status, t0.order_id from mp_cancel_group t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.internal_cancel_response = any(?) and t1.fk_channel = ? and t0.when_replied_to_tmp is null and t0.status = ?"},
  {"name":"CancelGroup_AdapterDao.findInternalCancelGroupRequests", "count":216708, "total":349125808, "mean":1611, "max":188055, "hash":"557f3d59ba37453c03925d586d4763d7", "loc":"AdapterDao.findInternalCancelGroupRequests(AdapterDao.java:246)", "sql":"select t0.id, t0.cancel_key, t0.when_received, t0.when_processed, t0.when_replied_to_tmp, t0.internal_cancel_response, t0.when_confirmed, t0.cancel_raw, t0.cancel_raw_class, t0.status, t0.order_id from mp_cancel_group t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.internal_cancel_response = any(?) and t1.fk_channel = ? and t0.when_replied_to_tmp is null and t1.last_mp_status = any(?) and t0.status is null"},
  {"name":"CancelGroup_AdapterDao.findRequestedCancelsNotSent", "count":216708, "total":316191920, "mean":1459, "max":602767, "hash":"630281b7e1100ee8cd9dc5cf19c65012", "loc":"AdapterDao.findRequestedCancelsNotSent(AdapterDao.java:225)", "sql":"select t0.id, t0.cancel_key, t0.when_received, t0.when_processed, t0.when_replied_to_tmp, t0.internal_cancel_response, t0.when_confirmed, t0.cancel_raw, t0.cancel_raw_class, t0.status, t0.order_id from mp_cancel_group t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.internal_cancel_response is null and t1.fk_channel = ? and t1.last_internal_status = any(?) and t0.status = ?"}]}
]}
