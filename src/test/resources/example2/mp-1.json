{
  "eventTime": 1576027175648,
  "appName": "market-place",
  "environment": "prod",
  "dbs": [
{"db":"db", "metrics":[
  {"name":"txn.main", "count":12031553, "total":96965374078, "mean":8059, "max":1795504},
  {"name":"txn.named.AdapterDao.ensureAllBrandsExist", "count":1, "total":499737, "mean":499737, "max":499737},
  {"name":"txn.named.AdapterDao.saveMarketplaceOrder", "count":4223, "total":76889841, "mean":18207, "max":302448},
  {"name":"txn.named.AdapterDao.saveInternalRepresentation", "count":5060, "total":135100297, "mean":26699, "max":695849},
  {"name":"txn.named.ShipmentDao.incrementShipmentConfirmRetries", "count":3, "total":20440, "mean":6813, "max":7595},
  {"name":"txn.named.ShipmentDao.saveMissingShipments", "count":1135, "total":10181531, "mean":8970, "max":104662},
  {"name":"txn.named.SendUnexportedOrdersToOrderServiceProcessor.sendOrder", "count":589, "total":16408412, "mean":27858, "max":300326},
  {"name":"ChannelAts_AtsListener.publishAts", "count":705244, "total":4301168576, "mean":6098, "max":803099, "hash":"ed4acc2bc520f3f0fb800949f0a01a52", "loc":"AtsListener.publishAts(AtsListener.java:103)", "sql":"select t0.channel, t0.sku, t0.quantity from mp_ats_channel t0 where (t0.channel = ? and t0.sku = ?)"},
  {"name":"ChannelState_AdapterDao.getBrandState", "count":792408, "total":1352390298, "mean":1706, "max":708342, "hash":"bf5847c18b9d2299a54293bd80e33dc9", "loc":"AdapterDao.getBrandState(AdapterDao.java:53)", "sql":"select t0.channel, t0.when_last_orders_polled, t0.when_last_cancel_polled from mp_channel t0 where t0.channel = ?  "},
  {"name":"MarketplaceShipment_ShipmentDao.getIdsOfUnsentShipmentsCreatedBefore", "count":99051, "total":352922660, "mean":3563, "max":282664, "hash":"d7a7d19c32d290b8c30803bf0fe0bdfe", "loc":"ShipmentDao.getIdsOfUnsentShipmentsCreatedBefore(ShipmentDao.java:83)", "sql":"select t0.id from mp_shipment t0 where t0.when_sent is null and (t0.when_created < ? or t0.when_created is null)"},
  {"name":"MarketplaceOrder_AdapterDao.findUnconfirmedOrders", "count":99051, "total":236170669, "mean":2384, "max":207044, "hash":"62930cc389e057f37bacdef34d7a416a", "loc":"AdapterDao.findUnconfirmedOrders(AdapterDao.java:195)", "sql":"select t0.order_id, t0.update_sent, t0.last_mp_status, t0.last_internal_status, t0.when_updated, t0.fk_channel from mp_order t0 where t0.last_internal_status = any(?) and t0.fk_channel = ? and t0.last_mp_status = any(?)"},
  {"name":"ChannelState_AdapterDao.updateLastPolledForOrders", "count":99049, "total":220205555, "mean":2223, "max":204680, "hash":"8e8be962ecffc14f795d313c9dc75bd1", "loc":"AdapterDao.updateLastPolledForOrders(AdapterDao.java:75)", "sql":"update mp_channel set when_last_orders_polled=? where channel = ?"},
  {"name":"MarketplaceOrder_AdapterDao.findUnexportedOrders", "count":99051, "total":203312794, "mean":2052, "max":176742, "hash":"14e0049bf3e4a17624067250693fa7ea", "loc":"AdapterDao.findUnexportedOrders(AdapterDao.java:171)", "sql":"select t0.order_id, t0.update_sent, t0.last_mp_status, t0.last_internal_status, t0.when_updated, t0.fk_channel from mp_order t0 where t0.fk_channel = ? and t0.last_mp_status = any(?) and t0.update_sent = ?"},
  {"name":"MarketplaceShipment_ShipmentDao.getShippingNoticesToSend", "count":99051, "total":202086536, "mean":2040, "max":203439, "hash":"7f9efd5c8f6b589d2fee2eba4bd903b0", "loc":"ShipmentDao.getShippingNoticesToSend(ShipmentDao.java:50)", "sql":"select t0.id, t0.consignment, t0.when_sent, t0.retries_attempted, t0.when_created, t0.order_id from mp_shipment t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.when_sent is null and (t0.retries_attempted < ? or t0.retries_attempted is null) and t1.fk_channel = ?"},
  {"name":"CancelGroup_AdapterDao.findResponsesReadyForMarketplace", "count":99051, "total":193290338, "mean":1951, "max":104468, "hash":"a3d3a69988485abc0741c92cdf11f386", "loc":"AdapterDao.findResponsesReadyForMarketplace(AdapterDao.java:235)", "sql":"select t0.id, t0.cancel_key, t0.when_received, t0.when_processed, t0.when_replied_to_tmp, t0.internal_cancel_response, t0.when_confirmed, t0.cancel_raw, t0.cancel_raw_class, t0.status, t0.order_id from mp_cancel_group t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.internal_cancel_response = any(?) and t1.fk_channel = ? and t0.when_replied_to_tmp is null and t0.status = ?"},
  {"name":"CancelGroup_AdapterDao.findInternalCancelGroupRequests", "count":99051, "total":184121538, "mean":1858, "max":214009, "hash":"557f3d59ba37453c03925d586d4763d7", "loc":"AdapterDao.findInternalCancelGroupRequests(AdapterDao.java:246)", "sql":"select t0.id, t0.cancel_key, t0.when_received, t0.when_processed, t0.when_replied_to_tmp, t0.internal_cancel_response, t0.when_confirmed, t0.cancel_raw, t0.cancel_raw_class, t0.status, t0.order_id from mp_cancel_group t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.internal_cancel_response = any(?) and t1.fk_channel = ? and t0.when_replied_to_tmp is null and t1.last_mp_status = any(?) and t0.status is null"},
  {"name":"CancelGroup_AdapterDao.findRequestedCancelsNotSent", "count":99051, "total":169455791, "mean":1710, "max":104196, "hash":"630281b7e1100ee8cd9dc5cf19c65012", "loc":"AdapterDao.findRequestedCancelsNotSent(AdapterDao.java:225)", "sql":"select t0.id, t0.cancel_key, t0.when_received, t0.when_processed, t0.when_replied_to_tmp, t0.internal_cancel_response, t0.when_confirmed, t0.cancel_raw, t0.cancel_raw_class, t0.status, t0.order_id from mp_cancel_group t0 left join mp_order t1 on t1.order_id = t0.order_id  where t0.internal_cancel_response is null and t1.fk_channel = ? and t1.last_internal_status = any(?) and t0.status = ?"},
  {"name":"MarketplaceOrder_AdapterDao.findOrder", "count":1, "total":1592, "mean":1592, "max":1592, "hash":"4b79981b2e3d1703aec6a8755b4d0daf", "loc":"AdapterDao.findOrder(AdapterDao.java:137)", "sql":"select t0.order_id, t0.update_sent, t0.last_mp_status, t0.last_internal_status, t0.when_updated, t0.fk_channel from mp_order t0 where t0.order_id = ?  "},
  {"name":"OrderUpdate_AdapterDao.findOrder_updates", "count":1, "total":1401, "mean":1401, "max":1401, "hash":"9bb76da6bcaa443a1b83ea9e561a3aee", "loc":"AdapterDao.findOrder(AdapterDao.java:137)", "sql":"select t0.order_id, t0.id from mp_order_update t0 where (t0.order_id) = any(?)"}]}
    ]}
